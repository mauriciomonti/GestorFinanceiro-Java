import javax.swing.JOptionPane;

public class Acesso {

	private String combinacao;
	private String[] dadosArquivo = new String[40];

	private static ArquivoAcesso arquivoAcesso = new ArquivoAcesso();
	private static String nomeArquivo = "dataPCD";

	private static int resultadoLinha[] = { 28, 31, 28, 32, 28, 30, 37, 24, 33, 28, 29, 29, 23, 26, 26, 27, 32, 32, 25,
			26, 26, 29, 23, 34, 30, 31, 32, 29, 24, 26, 29, 31, 27, 30, 35, 33, 34, 20, 27, 37 };

	public Acesso() {
	}

	public Acesso(String combinacao) {
		this.combinacao = combinacao;
	}

	// Grava um novo registro para o arquivo
	// Seguindo os parametros de segurança M1.0
	public void carregaDadosArquivo() {

		dadosArquivo[0] = "1;1;1;1;0;0;1;0;1;1;1;0;1;1;0;0;0;0;1;0;0;1;0;0;1;0;0;1;1;0;0;0;0;1;0;0;0;0;0;1;1;0;0;0;1;1;0;0;1;0;0;1;1;1;1;1;1;0;0;1;";
		dadosArquivo[1] = "1;0;0;0;1;0;1;1;1;0;0;1;0;0;1;1;0;1;0;1;0;0;0;1;0;1;0;0;0;1;1;1;1;1;1;0;1;1;1;1;1;1;0;0;1;0;0;1;1;0;1;0;0;0;1;0;0;0;1;1;";
		dadosArquivo[2] = "0;0;1;1;0;1;0;1;1;0;0;1;0;0;1;0;1;1;0;1;1;1;1;1;1;1;1;0;0;0;1;1;0;0;1;0;0;1;1;0;1;0;0;1;0;0;1;0;1;0;0;0;0;0;0;1;0;0;0;1;";
		dadosArquivo[3] = "1;0;1;0;0;1;1;0;1;0;0;1;0;1;0;0;1;1;1;1;0;0;1;0;1;1;0;0;1;0;0;0;0;1;0;1;1;1;1;1;0;0;0;0;0;1;0;1;1;0;1;0;1;0;1;1;1;1;1;1;";
		dadosArquivo[4] = "0;0;0;1;1;0;0;1;1;1;0;0;0;1;1;1;0;1;0;1;1;0;1;1;1;0;0;0;0;1;1;0;0;0;1;0;1;1;0;1;0;0;0;0;1;0;1;0;0;0;1;0;0;0;1;1;1;1;1;0;";
		dadosArquivo[5] = "1;1;1;1;0;1;0;0;0;1;1;0;1;0;1;1;0;0;1;1;1;0;0;0;0;1;0;1;0;1;0;1;1;0;1;0;1;0;1;1;1;0;1;1;0;1;1;0;0;1;0;0;0;0;1;0;0;1;0;0;";
		dadosArquivo[6] = "0;1;1;1;1;1;1;0;0;0;0;1;0;0;1;1;1;1;1;1;0;1;1;0;1;1;1;1;1;0;0;0;1;0;1;1;1;0;0;1;0;1;0;0;0;1;0;0;1;1;1;1;1;1;0;1;1;1;1;0;";
		dadosArquivo[7] = "1;1;1;0;0;1;0;0;0;1;1;0;0;1;0;1;0;1;0;0;1;0;0;1;0;0;0;0;1;0;0;0;1;1;1;1;1;0;0;1;1;0;0;1;1;0;0;0;0;0;0;0;0;1;0;0;1;1;0;0;";
		dadosArquivo[8] = "0;1;1;1;0;1;0;0;1;0;0;1;0;1;0;1;1;0;0;0;0;0;0;1;1;1;1;0;1;1;1;1;1;1;0;0;1;0;0;1;0;1;0;1;1;0;1;0;1;1;1;1;0;1;1;0;1;0;0;1;";
		dadosArquivo[9] = "0;0;1;1;0;0;0;1;0;0;1;0;1;1;1;0;1;1;0;1;1;0;1;0;0;0;1;1;0;1;1;0;1;1;0;1;0;1;0;0;1;0;1;0;0;1;1;0;0;1;0;0;0;0;0;0;1;1;0;1;";
		dadosArquivo[10] = "0;0;1;1;1;1;0;1;0;1;1;0;1;0;0;0;1;1;1;1;1;0;1;0;1;0;0;0;0;1;1;0;0;0;0;1;0;0;0;1;0;1;0;0;1;1;0;1;0;1;0;1;1;0;0;0;0;1;1;1;";
		dadosArquivo[11] = "0;0;1;1;1;1;1;0;1;0;1;0;1;0;0;0;0;0;1;0;0;0;0;1;0;1;1;0;1;1;1;0;0;0;0;1;1;1;1;1;0;1;1;0;0;1;0;0;0;0;1;1;0;1;0;1;1;0;1;0;";
		dadosArquivo[12] = "0;0;1;0;0;1;0;1;0;1;0;1;1;1;1;0;0;0;1;1;0;1;0;0;0;1;0;1;1;1;0;0;0;0;1;0;0;0;0;0;0;1;0;0;1;0;0;0;1;0;0;0;0;1;0;1;0;1;1;0;";
		dadosArquivo[13] = "1;1;1;0;0;1;1;1;0;0;1;0;0;1;1;0;1;0;0;0;0;0;0;1;0;0;1;0;0;0;1;0;0;1;1;1;1;0;1;1;0;0;1;1;1;0;0;0;1;0;0;1;0;0;1;0;0;1;0;0;";
		dadosArquivo[14] = "0;1;1;0;0;1;0;1;1;0;0;0;1;0;0;0;0;1;0;0;1;1;0;0;1;1;0;1;1;0;1;0;0;1;0;1;1;1;0;1;0;1;1;0;0;0;0;0;0;0;1;1;0;0;0;0;1;1;0;1;";
		dadosArquivo[15] = "0;0;1;1;1;0;0;0;1;1;0;1;0;1;1;0;0;0;0;1;1;0;1;0;1;1;0;1;1;0;0;1;1;0;0;1;0;0;1;0;0;1;0;0;0;1;0;1;0;0;1;1;0;0;0;1;0;1;0;1;";
		dadosArquivo[16] = "0;1;1;1;0;1;1;0;0;0;1;1;1;1;0;0;1;0;0;1;1;1;0;0;1;1;0;1;0;0;1;0;1;1;0;0;1;0;0;1;1;1;0;0;0;1;1;1;1;1;1;0;0;0;1;1;0;1;0;0;";
		dadosArquivo[17] = "1;1;0;1;0;1;0;0;0;1;0;0;1;0;1;0;0;0;1;1;1;1;1;0;0;0;1;1;1;1;0;1;1;0;1;0;0;0;0;0;1;0;0;0;0;1;1;1;1;0;1;1;1;1;1;1;0;1;0;1;";
		dadosArquivo[18] = "1;0;1;1;0;1;0;0;0;0;1;0;1;0;0;1;0;0;1;1;1;0;0;1;1;0;1;1;0;0;0;1;0;0;1;0;0;1;1;0;1;0;1;0;0;0;0;0;0;0;1;0;1;0;0;1;0;1;1;0;";
		dadosArquivo[19] = "0;1;1;1;1;0;1;1;1;0;1;1;0;1;0;1;0;0;1;0;0;0;0;0;1;1;1;0;0;1;0;0;0;0;0;1;1;0;0;0;0;1;0;1;1;0;1;0;1;1;1;0;0;0;1;0;0;0;0;0;";
		dadosArquivo[20] = "0;0;0;1;1;1;0;1;0;1;0;1;0;1;1;1;0;0;0;0;0;0;1;1;1;0;1;0;0;0;0;0;0;0;1;1;1;0;0;0;1;0;1;0;0;0;1;0;1;1;1;0;0;1;1;0;1;1;0;0;";
		dadosArquivo[21] = "1;1;1;1;0;0;1;0;0;0;0;0;1;0;1;1;0;0;1;1;1;1;1;0;1;0;1;0;1;0;0;1;0;0;0;1;0;1;0;0;0;0;1;1;1;1;1;1;1;0;1;0;1;0;1;0;0;0;0;0;";
		dadosArquivo[22] = "1;0;1;0;1;0;0;0;1;0;0;0;1;0;0;0;0;1;0;1;0;1;0;0;1;0;0;1;1;0;1;0;0;0;0;0;0;1;0;0;0;1;0;1;0;0;0;0;1;1;1;1;1;0;0;1;0;1;0;1;";
		dadosArquivo[23] = "1;1;1;1;1;1;1;0;0;1;0;0;1;0;1;0;1;0;1;0;1;0;1;1;1;1;0;1;1;1;1;0;0;0;0;1;0;0;1;0;1;0;0;1;1;1;1;1;0;0;0;1;1;0;1;0;1;1;0;0;";
		dadosArquivo[24] = "1;1;0;0;0;0;0;0;0;1;1;0;0;1;1;1;1;1;0;0;0;0;0;0;0;0;1;0;1;1;0;0;0;0;0;1;1;0;1;1;1;1;1;0;1;0;1;1;1;0;0;1;1;1;1;1;1;0;0;1;";
		dadosArquivo[25] = "0;0;0;1;1;0;0;0;1;1;0;1;1;0;0;1;0;1;0;1;1;1;1;0;0;0;1;0;1;1;0;1;1;1;0;1;0;0;1;0;1;0;0;0;1;1;0;0;1;1;1;1;1;0;1;0;0;1;1;0;";
		dadosArquivo[26] = "0;0;1;0;1;1;0;0;0;1;1;0;0;0;1;0;0;1;0;1;0;0;1;0;1;0;0;0;0;1;0;0;1;1;1;1;1;1;1;1;1;1;0;0;1;1;0;1;1;1;0;0;1;1;1;1;1;1;0;0;";
		dadosArquivo[27] = "0;1;1;1;0;1;0;0;1;0;0;0;1;1;0;0;0;0;1;1;0;0;0;1;0;0;1;1;1;0;1;0;0;1;0;1;0;1;1;0;0;1;0;1;0;1;1;0;1;0;0;1;0;1;0;1;0;1;1;1;";
		dadosArquivo[28] = "0;1;1;1;0;1;0;0;0;0;0;1;1;0;1;0;0;0;1;1;0;0;1;1;0;0;0;0;0;0;0;1;1;1;1;1;0;1;0;1;0;0;0;0;1;1;0;0;0;1;1;0;0;0;0;0;1;0;0;1;";
		dadosArquivo[29] = "1;1;1;0;1;0;0;0;0;0;1;0;0;0;1;0;1;1;1;0;0;0;1;1;0;0;1;0;0;0;0;1;1;1;0;1;0;1;0;0;1;0;1;1;0;0;0;1;0;1;0;0;1;1;0;0;0;1;1;0;";
		dadosArquivo[30] = "0;1;1;0;1;0;1;1;0;1;0;1;1;1;1;0;0;0;1;1;1;0;1;0;1;1;0;0;1;0;0;1;0;0;1;1;1;1;0;0;0;0;1;0;0;1;1;1;0;0;0;0;0;1;0;1;0;0;1;0;";
		dadosArquivo[31] = "1;0;0;1;0;1;1;0;0;1;0;1;0;1;1;1;1;1;0;0;1;1;1;0;0;1;0;0;1;0;0;1;0;1;0;0;1;1;1;1;1;1;0;1;1;1;1;0;0;0;0;0;0;0;0;0;1;0;1;1;";
		dadosArquivo[32] = "1;0;1;1;0;0;0;1;1;1;0;0;0;0;0;1;1;0;1;0;1;0;0;0;0;1;1;0;0;1;0;1;1;0;1;1;0;1;0;0;1;0;0;0;1;1;1;0;1;1;1;0;1;0;0;0;0;0;1;0;";
		dadosArquivo[33] = "1;1;0;1;1;0;1;0;1;1;0;0;0;0;0;1;1;1;1;0;1;0;0;0;0;1;1;0;1;1;0;1;0;0;0;0;0;1;0;1;0;1;0;1;0;1;0;1;1;0;0;1;1;1;1;1;1;0;0;0;";
		dadosArquivo[34] = "0;0;0;0;1;1;0;1;0;0;1;1;1;1;1;0;1;1;1;0;1;1;0;1;0;1;0;1;1;0;0;1;0;1;0;0;1;1;0;1;0;0;1;1;1;1;1;0;1;1;1;1;0;1;0;1;0;1;0;1;";
		dadosArquivo[35] = "1;0;0;0;0;0;1;1;1;1;0;0;1;0;1;1;1;0;1;0;1;0;1;1;1;0;1;0;1;1;1;1;1;1;1;0;0;0;0;1;0;1;0;1;1;1;0;0;1;1;1;1;0;0;0;0;0;1;1;0;";
		dadosArquivo[36] = "1;1;1;0;0;0;1;1;0;0;1;0;1;1;1;1;1;1;1;0;1;0;0;0;0;0;1;1;0;1;1;1;1;0;1;0;1;1;1;0;0;0;0;1;1;1;1;0;1;0;1;1;0;1;0;1;0;1;0;0;";
		dadosArquivo[37] = "0;0;0;0;1;1;0;0;0;0;1;0;1;0;0;0;1;0;0;0;0;1;0;0;1;0;0;1;1;1;0;0;1;0;1;1;1;0;0;1;0;0;1;0;1;0;0;0;0;0;0;0;0;1;0;1;0;1;0;0;";
		dadosArquivo[38] = "0;1;1;0;1;1;1;1;1;0;1;0;1;1;0;1;0;0;1;0;0;1;1;0;1;1;0;0;1;1;0;0;0;1;0;0;0;1;0;0;1;1;1;0;0;0;0;0;1;1;0;0;0;1;0;0;1;0;0;0;";
		dadosArquivo[39] = "0;0;1;0;1;1;1;0;1;1;1;1;1;0;1;1;1;0;1;0;1;1;0;0;1;0;1;1;1;0;1;1;1;0;1;0;0;0;0;1;0;1;1;1;1;0;1;0;0;0;0;1;1;1;1;1;1;0;1;1;";
	}

	public void verificaRegistro() {
		// Verifica se o arquivo ja foi criado
		// E se os dados no arquivo estão corretos

		if (arquivoAcesso.verificaArquivo(nomeArquivo) == false) {
			// Se o arquivo não existir

			String answer = JOptionPane.showInputDialog(null, "Digite a Senha para Desbloquear o Programa", "Aviso",
					JOptionPane.WARNING_MESSAGE);

			// Se cancelar ou fechar o programa
			if (answer == null) {
				// Termina o Programa
				System.exit(0);
			}

			if (answer.equals(combinacao)) {
				// Se a senha for correta
				// Preenche com o dadosArquivo
				carregaDadosArquivo();
				// Cria um novo arquivo
				arquivoAcesso.gravaArquivo(nomeArquivo, dadosArquivo);
				arquivoAcesso.gravaArquivoFake("data");
			} else {
				JOptionPane.showMessageDialog(null, "A Senha Digita Está Incorreta ou Desatualizada", "Senha Incorreta", JOptionPane.ERROR_MESSAGE);
				// Termina o Programa
				System.exit(0);
			}
		} else {
			// Se o arquivo existir
			// Verifica se a informação está correta
			for (int i = 0; i < 40; i++) {
				if (arquivoAcesso.carregaSomatorioLinha(nomeArquivo, i) != resultadoLinha[i]) {
					JOptionPane.showMessageDialog(null, "Tentativa de Acesso Não Permitida", "Acesso Inválido", JOptionPane.ERROR_MESSAGE);
					System.exit(0);
				}
			}
		}
	}
}
